@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------- BASE -------------------- */
@layer base {
  :root {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 80 93% 64%;
    --primary-foreground: 210 20% 10%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background-dark text-white font-display antialiased;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-lg;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-white/20;
  }

  .material-symbols-outlined {
    font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24;
  }
}

/* -------------------- COMPONENTS -------------------- */
@layer components {
  .glass-panel {
    @apply bg-white/5 backdrop-blur-md border border-white/10;
  }

  .glass-panel-hover {
    @apply glass-panel hover:bg-white/10 transition-all duration-200;
  }

  .metric-card {
    @apply glass-panel rounded-2xl p-6 shadow-lg shadow-black/20;
  }

  /* FIXED: no arbitrary shadow in @apply */
  .btn-primary {
    @apply bg-primary text-background-dark px-6 py-2.5 rounded-xl font-bold hover:bg-primary/90 active:scale-95 transition-all duration-200;
    box-shadow: 0 0 15px rgba(202, 255, 97, 0.3);
  }

  .btn-primary:hover {
    box-shadow: 0 0 20px rgba(202, 255, 97, 0.5);
  }

  .btn-secondary {
    @apply glass-panel-hover px-4 py-2 rounded-lg font-medium;
  }

  .nav-link {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200;
  }

  .nav-link-active {
    @apply nav-link bg-primary/10 text-primary border border-primary/20;
  }

  .nav-link-inactive {
    @apply nav-link text-gray-400 hover:text-white hover:bg-white/5;
  }

  /* FIXED: no bg-[#...] in @apply */
  .code-block {
    @apply rounded-xl overflow-hidden border border-white/10 font-mono text-sm;
    background-color: #0d1117;
  }

  .input-field {
    @apply w-full bg-transparent border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent transition-all;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-green-500/10 text-green-400 border border-green-500/20;
  }

  .badge-error {
    @apply badge bg-red-500/10 text-red-400 border border-red-500/20;
  }

  .badge-warning {
    @apply badge bg-yellow-500/10 text-yellow-400 border border-yellow-500/20;
  }

  .badge-info {
    @apply badge bg-blue-500/10 text-blue-400 border border-blue-500/20;
  }

  .badge-neutral {
    @apply badge bg-white/5 text-gray-300 border border-white/10;
  }
}

/* -------------------- UTILITIES -------------------- */
@layer utilities {
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  .animate-fadeInUp {
    animation: fadeInUp 0.5s ease-out;
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animate-delay-100 {
    animation-delay: 100ms;
  }

  .animate-delay-200 {
    animation-delay: 200ms;
  }

  .animate-delay-300 {
    animation-delay: 300ms;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thumb-white\/10 {
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }

  .scrollbar-track-transparent {
    scrollbar-color: transparent transparent;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary to-green-400 bg-clip-text text-transparent;
  }

  .gradient-border {
    position: relative;
    background: linear-gradient(var(--glass-bg), var(--glass-bg)) padding-box,
      linear-gradient(135deg, rgba(202, 255, 97, 0.3), transparent) border-box;
    border: 1px solid transparent;
  }
}